"""
사용자 프로필 기반 룰 정의
- weekly_plan_system.py와 독립적으로 운영
- prompt_generator_rag.py 파이프라인 전용
"""

from typing import Literal

# =============================================================================
# 타입 정의
# =============================================================================

BodyType1 = Literal[
    "마른형", "마른근육형", "표준형", "근육형", "고근육체형",
    "비만형", "고도비만형", "마른비만형", "알 수 없음"
]

BodyType2 = Literal[
    "표준형", "하체발달형", "상체발달형", "하체비만형", "상체비만형"
]

WorkoutPlace = Literal["헬스장", "홈트", "아웃도어", "스포츠"]

SportType = Literal["축구", "농구", "테니스", "배드민턴", "수영", "클라이밍", "기타"]


# =============================================================================
# 룰 정의 - BODY_TYPE1 (근육 보정 체형)
# =============================================================================

BODY_TYPE1_RULES: dict[BodyType1, dict] = {
    "마른형": {
        "goal": "체중 증가 + 근육량 확보",
        "diet": "밥, 고기 충분히 먹고 먹은 것보다 더 먹기",
        "training": "스쿼트/데드리프트 같은 큰 운동 위주, 무게는 천천히 올리고 유산소는 최소로",
        "warning": "유산소 너무 많이 하면 체중 안 늘어요",
        "coach": "지금은 살 빼는 게 아니라 몸을 채우는 단계입니다.",
    },
    "마른근육형": {
        "goal": "근육량 유지하며 벌크업",
        "diet": "단백질 많이, 깨끗하게 먹으면서 천천히 체중 늘리기",
        "training": "부위별로 나눠서 운동, 무게는 조금씩 올리기, 유산소 주 1~2회",
        "warning": "급하게 벌크업하면 지방만 늘어요",
        "coach": "이미 좋은 베이스가 있어요. 천천히 쌓아가면 됩니다.",
    },
    "표준형": {
        "goal": "체지방 줄이고 근육 늘리기 균형있게",
        "diet": "골고루 먹되 단백질은 꼭 챙기기",
        "training": "큰 운동 + 유산소 같이, 주 3~4회",
        "warning": "한쪽에만 치우치면 밸런스 깨져요",
        "coach": "가장 좋은 출발점이에요. 꾸준히만 하면 됩니다.",
    },
    "근육형": {
        "goal": "근력 더 키우고 체지방 관리",
        "diet": "단백질 높게, 탄수화물은 운동 전후로",
        "training": "부위별 강하게, 유산소 주 2회",
        "warning": "오버트레이닝 조심, 휴식도 운동이에요",
        "coach": "이제 디테일 싸움입니다. 루틴 지키는 게 핵심이에요.",
    },
    "고근육체형": {
        "goal": "지금 몸 유지하면서 컨디션 관리",
        "diet": "지금 먹는 양 유지, 단백질은 계속 높게",
        "training": "운동량 유지하되 가끔은 가볍게 쉬어주는 주도 필요",
        "warning": "무리하면 부상 와요. 회복에 집중하세요",
        "coach": "이미 잘 만들어놨어요. 유지가 제일 어려운 거 아시죠?",
    },
    "비만형": {
        "goal": "체지방 감소가 최우선",
        "diet": "먹는 양 줄이되 단백질은 유지, 밀가루/설탕 줄이기",
        "training": "유산소 + 근력 같이, 관절 안 아픈 운동으로",
        "warning": "굶으면 근육만 빠져요. 적게 먹되 단백질은 꼭",
        "coach": "처음 한 달만 버티면 몸이 달라지는 게 보여요.",
    },
    "고도비만형": {
        "goal": "체중 감량 + 관절 보호",
        "diet": "적게 먹되 단백질 챙기고 채소 많이",
        "training": "걷기/수영 같은 가벼운 유산소, 맨몸 근력, 천천히 강도 올리기",
        "warning": "무릎/허리 조심하세요. 앉아서 하는 운동부터",
        "coach": "급하게 가면 다쳐요. 천천히 가는 게 제일 빠른 길입니다.",
    },
    "마른비만형": {
        "goal": "체지방 줄이면서 근육 늘리기 동시에",
        "diet": "단백질 많이, 밥은 현미/고구마 같은 좋은 탄수화물로",
        "training": "근력운동이 메인, 유산소는 보조로만",
        "warning": "유산소만 하면 더 마르기만 해요. 근력이 우선이에요",
        "coach": "체중계 숫자보다 거울을 믿으세요. 근육이 붙으면 달라져요.",
    },
    "알 수 없음": {
        "goal": "기본 체력 향상",
        "diet": "균형 잡힌 식단 권장",
        "training": "전신 운동 주 3회 권장",
        "warning": "정확한 체형 측정 후 맞춤 플랜 추천드려요",
        "coach": "일단 시작하는 게 중요해요. 같이 해봐요!",
    },
}


# =============================================================================
# 룰 정의 - BODY_TYPE2 (상하체 밸런스)
# =============================================================================

BODY_TYPE2_RULES: dict[BodyType2, dict] = {
    "표준형": {
        "focus": "상하체 균형 유지",
        "training_adjust": "상체/하체 비율 1:1로 구성",
        "coach": "밸런스 좋아요. 이대로 유지하면서 전체적으로 키워가요.",
    },
    "하체발달형": {
        "focus": "상체 강화 필요",
        "training_adjust": "상체 운동 더 자주, 하체는 유지만",
        "coach": "하체는 이미 충분해요. 상체 채우면 비율 예뻐져요.",
    },
    "상체발달형": {
        "focus": "하체 강화 필요",
        "training_adjust": "하체 운동 더 자주, 스쿼트/런지 필수",
        "coach": "하체가 받쳐줘야 상체도 더 커 보여요. 스쿼트 합시다.",
    },
    "하체비만형": {
        "focus": "하체 체지방 감소 + 상체 근육 강화",
        "training_adjust": "하체는 유산소+가벼운 근력, 상체는 근력 집중",
        "coach": "하체는 늦게 빠지지만 빠지면 진짜 크게 바뀝니다.",
    },
    "상체비만형": {
        "focus": "상체 체지방 감소 + 하체 근력 강화",
        "training_adjust": "전신 유산소로 상체 빼고, 하체 근력 집중",
        "coach": "하체 키우면 상체가 상대적으로 날씬해 보여요.",
    },
}


# =============================================================================
# 룰 정의 - WORKOUT_PLACE (운동 장소)
# =============================================================================

WORKOUT_PLACE_RULES: dict[WorkoutPlace, dict] = {
    "헬스장": {
        "environment": "머신과 중량을 활용할 수 있어 근력 효율이 최고입니다.",
        "routine_style": "스쿼트/랫풀다운/벤치 같은 정석 루틴으로 갑니다.",
        "constraints": "무게보다 자세가 우선입니다.",
        "coach": "헬스장은 무게보다 루틴이 먼저입니다.",
    },
    "홈트": {
        "environment": "장비가 제한적이라 맨몸 루틴이 핵심입니다.",
        "routine_style": "스쿼트/푸쉬업/런지/플랭크 위주로 구성하세요.",
        "constraints": "강도는 세트 수로 올리면 됩니다.",
        "coach": "집에서도 충분히 됩니다. 꾸준함이 장비를 이겨요.",
    },
    "아웃도어": {
        "environment": "활동량을 크게 만들 수 있는 최고의 환경입니다.",
        "routine_style": "걷기/러닝 + 하체 보완 운동을 섞습니다.",
        "constraints": "무릎 부담 있으면 걷기부터 시작하세요.",
        "coach": "바깥 공기 마시면서 하는 운동이 제일 오래 갑니다.",
    },
    "스포츠": {
        "environment": "재미로 꾸준히 할 수 있는 운동이 가장 강력합니다.",
        "routine_style": "스포츠는 주 2~3회, 나머지는 하체+코어 보완 근력운동",
        "constraints": "스포츠만 하면 근손실 나니 근력은 꼭 넣습니다.",
        "coach": "좋아하는 운동이 최고의 운동이에요. 근력만 보완하면 완벽합니다.",
    },
}


# =============================================================================
# 룰 정의 - SPORT_TYPE (스포츠 종류별 보완 운동)
# =============================================================================

SPORT_SUPPLEMENT_RULES: dict[SportType, dict] = {
    "축구": {
        "focus": "하체 지구력 + 코어",
        "supplement": "런지, 플랭크, 햄스트링 스트레칭",
        "warning": "발목/무릎 부상 주의",
    },
    "농구": {
        "focus": "점프력 + 어깨/코어",
        "supplement": "스쿼트점프, 숄더프레스, 코어",
        "warning": "발목 접질림 주의",
    },
    "테니스": {
        "focus": "어깨/팔 + 하체 순발력",
        "supplement": "로테이터커프, 사이드런지, 코어",
        "warning": "팔꿈치/어깨 과사용 주의",
    },
    "배드민턴": {
        "focus": "어깨/손목 + 하체 순발력",
        "supplement": "숄더 스트레칭, 런지, 종아리",
        "warning": "손목/어깨 부상 주의",
    },
    "수영": {
        "focus": "전신 밸런스 좋음",
        "supplement": "코어 + 하체 근력 보완",
        "warning": "어깨 과사용 시 휴식 필요",
    },
    "클라이밍": {
        "focus": "등/팔 + 코어",
        "supplement": "하체 근력 보완, 스트레칭 필수",
        "warning": "손가락/팔꿈치 과사용 주의",
    },
    "기타": {
        "focus": "전신 균형",
        "supplement": "코어 + 유연성 운동",
        "warning": "본인 종목 특성에 맞게 조절",
    },
}
