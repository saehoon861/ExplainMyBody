================================================================================
 🚀 LLM 호출 성능 비교 테스트 시작
================================================================================

📌 테스트 방식:
   1️⃣  Async 병렬 방식 (asyncio.gather) - 현재 구현
   2️⃣  Sync 순차 방식 (하나씩 순차 실행)
   3️⃣  Single Call 방식 (4개 프롬프트를 1개로 통합)

⚠️  각 테스트는 실제 OpenAI API를 호출하므로 비용이 발생할 수 있습니다.
⏱️  네트워크 상태에 따라 결과가 달라질 수 있습니다.

▶️  Enter를 눌러 테스트를 시작하세요...

================================================================================
🔹 Async 병렬 방식 (asyncio.gather)
================================================================================
⚠️  검증 필요한 null 필드: 체중관리.체지방량, 연구항목.제지방량, 부위별근육분석.왼쪽팔, 부위별근육분석.오른쪽팔, 부위별근육분석.복부, 부위별근육분석.왼쪽하체, 부위별근육분석.오른쪽하체, 부위별체지방분석.왼쪽팔, 부위별체지방분석.오른쪽팔, 부위별체지방분석.복부, 부위별체지방분석.왼쪽하체, 부위별체지방분석.오른쪽하체
⏰ 시작 시각: 2026-02-09 19:45:09.532
📝 프롬프트 생성 완료: 0.000초
🤖 LLM 호출 완료: 4.085초
⏰ 종료 시각: 2026-02-09 19:45:13.617

📊 총 소요 시간: 4.085초
   - 프롬프트 생성: 0.000초
   - LLM 호출 (병렬): 4.085초
   - 후처리: 0.000초

📏 생성된 콘텐츠 길이:
   - summary: 272 characters
   - workout: 523 characters
   - diet: 847 characters
   - lifestyle: 709 characters
================================================================================


================================================================================
🔹 Sync 순차 방식 (하나씩 실행)
================================================================================
⚠️  검증 필요한 null 필드: 체중관리.체지방량, 연구항목.제지방량, 부위별근육분석.왼쪽팔, 부위별근육분석.오른쪽팔, 부위별근육분석.복부, 부위별근육분석.왼쪽하체, 부위별근육분석.오른쪽하체, 부위별체지방분석.왼쪽팔, 부위별체지방분석.오른쪽팔, 부위별체지방분석.복부, 부위별체지방분석.왼쪽하체, 부위별체지방분석.오른쪽하체
⏰ 시작 시각: 2026-02-09 19:45:13.655
📝 프롬프트 생성 완료: 0.000초

🤖 summary 호출 중... 완료 (5.546초)

🤖 workout 호출 중... 완료 (3.996초)

🤖 diet 호출 중... 완료 (3.930초)

🤖 lifestyle 호출 중... 완료 (4.407초)

🤖 모든 LLM 호출 완료: 17.880초
⏰ 종료 시각: 2026-02-09 19:45:31.536

📊 총 소요 시간: 17.880초
   - 프롬프트 생성: 0.000초
   - LLM 호출 (순차): 17.880초
   - 후처리: 0.000초

⏱️  개별 LLM 호출 시간:
   - summary: 5.546초
   - workout: 3.996초
   - diet: 3.930초
   - lifestyle: 4.407초

📏 생성된 콘텐츠 길이:
   - summary: 318 characters
   - workout: 525 characters
   - diet: 561 characters
   - lifestyle: 659 characters
================================================================================


================================================================================
🔹 Single Call 방식 (4개 프롬프트 합쳐서 1번 호출)
================================================================================
⚠️  검증 필요한 null 필드: 체중관리.체지방량, 연구항목.제지방량, 부위별근육분석.왼쪽팔, 부위별근육분석.오른쪽팔, 부위별근육분석.복부, 부위별근육분석.왼쪽하체, 부위별근육분석.오른쪽하체, 부위별체지방분석.왼쪽팔, 부위별체지방분석.오른쪽팔, 부위별체지방분석.복부, 부위별체지방분석.왼쪽하체, 부위별체지방분석.오른쪽하체
⏰ 시작 시각: 2026-02-09 19:45:31.573
📝 개별 프롬프트 생성 완료: 0.000초
🔗 프롬프트 통합 완료: 0.000초
   - Combined system_prompt: 1016 characters
   - Combined user_prompt: 2296 characters

🤖 통합 LLM 호출 중... 완료 (7.859초)
⏰ 종료 시각: 2026-02-09 19:45:39.431

📊 총 소요 시간: 7.859초
   - 개별 프롬프트 생성: 0.000초
   - 프롬프트 통합: 0.000초
   - LLM 호출 (단일): 7.859초
   - 후처리: 0.000초

📏 생성된 콘텐츠 길이:
   - 전체 응답: 1601 characters

📄 응답 샘플 (처음 500자):
--------------------------------------------------------------------------------
### 📝 주간 목표 핵심 전략
이번 주의 목표는 건강하게 5kg 감량하는 것입니다. 이를 위해 칼로리 적자를 유지하고 단백질 섭취를 충분히 하며, 균형 잡힌 식단을 통해 지속적인 체중 감소를 도모합니다. 또한, 관절에 부담을 주지 않는 운동을 중심으로 계획하여 안전하게 체중을 감량할 수 있도록 하겠습니다.

### 🏋️‍♀️ 요일별 운동 계획
🏋️ **요일별 운동 계획** (주 5일, 휴식일 포함)

**월요일:**
- 메인: 스쿼트 3세트 × 12회 (중량: 30kg)
- 보조: 벤치프레스 3세트 × 10회 (중량: 20kg)
- 마무리: 스트레칭 10분

**화요일:**
- 메인: 데드리프트 3세트 × 10회 (중량: 30kg)
- 보조: 플랭크 3세트 × 30초
- 마무리: 유산소 (걷기) 20분

**수요일:**
- 메인: 레그프레스 3세트 × 12회 (중량: 40kg)
- 보조: 턱걸이 (보조 기구 사용) 3세트 × 8회
- 마무리: 스트레칭 10분

**목요일:**
- 
... (총 1601자 중 500자만 표시)
--------------------------------------------------------------------------------
================================================================================


================================================================================
 📊 성능 비교 결과
================================================================================

┌─────────────────────────┬──────────────┬──────────────┬──────────────┐
│ 방식                     │ 소요 시간     │ 상대 속도     │ 효율성        │
├─────────────────────────┼──────────────┼──────────────┼──────────────┤
│ 1️⃣  Async 병렬 (현재)    │    4.085초   │     1.00x    │ 🏆 최고      │
│ 2️⃣  Sync 순차           │   17.880초   │     4.38x     │              │
│ 3️⃣  Single Call         │    7.859초  │     1.92x     │              │
└─────────────────────────┴──────────────┴──────────────┴──────────────┘

💡 Async 병렬 방식이 Sync 순차 방식보다 77.2% 빠릅니다.
💡 Single Call 방식이 Sync 순차 방식보다 56.0% 빠릅니다.
💡 Async 병렬 방식이 Single Call 방식보다 48.0% 빠릅니다.

================================================================================
📌 권장사항
================================================================================
✅ Async 병렬 방식이 가장 빠릅니다.
   - 4개의 LLM 호출이 동시에 처리되어 대기 시간이 최소화됩니다.
   - 네트워크 I/O가 많은 작업에 최적화되어 있습니다.

💰 비용 고려사항:
   - Async 병렬: 4번의 API 호출, 개별 응답 토큰
   - Sync 순차: 4번의 API 호출, 개별 응답 토큰
   - Single Call: 1번의 API 호출, 하지만 프롬프트가 4배 길어져 입력 토큰 증가
   → 실제 비용은 토큰 사용량에 따라 결정됩니다.

================================================================================
✅ 모든 테스트 완료
================================================================================

